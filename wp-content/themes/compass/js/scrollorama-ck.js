/*
	scrollorama - The jQuery plugin for doing cool scrolly stuff
	by John Polacek (@johnpolacek)
	
	Dual licensed under MIT and GPL.
*/(function(e){e.scrollorama=function(t){function c(){var t,i,o,f=!1;typeof n.settings.blocks=="string"&&(n.settings.blocks=e(n.settings.blocks));e.browser.mozilla&&(s="-moz-");e.browser.webkit&&(s="-webkit-");e.browser.opera&&(s="-o-");e.browser.msie&&(s="-ms-");e("body").css("position","relative");for(t=0;t<n.settings.blocks.length;t++){i=n.settings.blocks.eq(t);f=i.css("margin-top");r.push({block:i,top:i.offset().top-(Boolean(f)?0:parseInt(f,10)),pin:0,animations:[]})}if(n.settings.enablePin.toString()==="true")for(t=0;t<r.length;t++)r[t].block.css("position","absolute").css("top",r[t].top);e("body").prepend('<div id="scroll-wrap"></div>');u=0;a=!1;e(window).on("scroll.scrollorama",h)}function h(){u=window.scrollY;p()}function p(){a||f(function(){v();d()});a=!0}function d(){a=!1}function v(){var t=e(window).scrollTop(),i=m(t),s,u,a,f,l,c,h;for(s=0;s<r.length;s++)if(r[s].animations.length)for(u=0;u<r[s].animations.length;u++){a=r[s].animations[u];if(s>i){i!==s-1&&a.baseline!=="bottom"&&g(a.element,a.property,a.startVal);r[s].pin&&r[s].block.css("position","absolute").css("top",r[s].top)}else if(s<i){g(a.element,a.property,a.endVal);r[s].pin&&r[s].block.css("position","absolute").css("top",r[s].top+r[s].pin)}if(s===i||i===s-1&&a.baseline==="bottom"){r[s].pin&&i===s&&r[s].block.css("position","fixed").css("top",0);f=r[s].top+a.delay;a.baseline==="bottom"&&(f-=e(window).height());l=f+a.duration;if(t<f)g(a.element,a.property,a.startVal);else if(t>l){g(a.element,a.property,a.endVal);r[s].pin&&r[s].block.css("position","absolute").css("top",r[s].top+r[s].pin)}else{c=(t-f)/a.duration;a.easing&&e.isFunction(e.easing[a.easing])&&(c=e.easing[a.easing](c,c*1e3,0,1,1e3));h=a.startVal+c*(a.endVal-a.startVal);g(a.element,a.property,h)}}}if(n.blockIndex!==i){n.blockIndex=i;o()}}function m(e){var t=0,i;for(i=0;i<r.length;i++)r[i].top<=e-n.settings.offset&&(t=i);return t}function g(e,t,n){var r,i;if(t==="rotate"||t==="zoom"||t==="scale"){if(t==="rotate")e.css(s+"transform","rotate("+n+"deg)");else if(t==="zoom"||t==="scale"){r="scale("+n+")";s!=="-ms-"?e.css(s+"transform",r):e.css("zoom",r)}}else if(t==="background-position-x"||t==="background-position-y"){i=e.css("background-position").split(" ");t==="background-position-x"&&e.css("background-position",n+"px "+i[1]);t==="background-position-y"&&e.css("background-position",i[0]+" "+n+"px")}else t==="text-shadow"?e.css(t,"0px 0px "+n+"px #ffffff"):e.css(t,n)}var n=this,r=[],s="",o=function(){},u=0,a=!1,f=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)},l={offset:0,enablePin:!0};n.settings=e.extend({},l,t);n.blockIndex=0;t.blocks===undefined&&alert("ERROR: Must assign blocks class selector to scrollorama plugin");n.animate=function(t){var n,i,s,o,u,a;typeof t=="string"&&(t=e(t));for(u=0;u<r.length;u++)if(r[u].block.has(t).length){i=r[u];n=u}for(u=1;u<arguments.length;u++){s=arguments[u];if(s.property==="top"||s.property==="left"||s.property==="bottom"||s.property==="right"){t.css("position")==="static"&&t.css("position","relative");cssValue=parseInt(t.css(s.property),10);s.start===undefined?s.start=isNaN(cssValue)?0:cssValue:s.end===undefined&&(s.end=isNaN(cssValue)?0:cssValue)}if(s.property==="rotate"){s.start===undefined&&(s.start=0);s.end===undefined&&(s.end=0)}else if(s.property==="zoom"||s.property==="scale"){s.start===undefined&&(s.start=1);s.end===undefined&&(s.end=1)}else if(s.property==="letter-spacing"&&t.css(s.property)){s.start===undefined&&(s.start=1);s.end===undefined&&(s.end=1)}s.baseline===undefined&&(s.pin||i.pin||n===0?s.baseline="top":s.baseline="bottom");s.delay===undefined&&(s.delay=0);i.animations.push({element:t,delay:s.delay,duration:s.duration,property:s.property,startVal:s.start!==undefined?s.start:parseInt(t.css(s.property),10),endVal:s.end!==undefined?s.end:parseInt(t.css(s.property),10),baseline:s.baseline!==undefined?s.baseline:"bottom",easing:s.easing});if(s.pin&&i.pin<s.duration+s.delay){o=s.duration+s.delay-i.pin;i.pin+=o;for(a=n+1;a<r.length;a++){r[a].top+=o;r[a].block.css("top",r[a].top)}}}v()};n.onBlockChange=function(e){o=e};n.getScrollpoints=function(){var e=[],t,n,i;for(t=0;t<r.length;t++){e.push(r[t].top);if(r[t].animations.length&&r[t].pin>0)for(n=0;n<r[t].animations.length;n++){i=r[t].animations[n];e.push(r[t].top+i.delay+i.duration)}}e.sort(function(e,t){return e-t});return e};n.destroy=function(){for(i=0;i<r.length;i++){r[i].block.css({top:"",position:""});delete r[i].animations;delete r[i].top;delete r[i].pin}e(window).off("scroll.scrollorama");e("#scroll-wrap").remove();delete n};c();return n};e.extend(e.easing,{def:"easeOutQuad",swing:function(t,n,r,i,s){return e.easing[e.easing.def](t,n,r,i,s)},easeInQuad:function(e,t,n,r,i){return r*(t/=i)*t+n},easeOutQuad:function(e,t,n,r,i){return-r*(t/=i)*(t-2)+n},easeInOutQuad:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t+n:-r/2*(--t*(t-2)-1)+n},easeInCubic:function(e,t,n,r,i){return r*(t/=i)*t*t+n},easeOutCubic:function(e,t,n,r,i){return r*((t=t/i-1)*t*t+1)+n},easeInOutCubic:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t+n:r/2*((t-=2)*t*t+2)+n},easeInQuart:function(e,t,n,r,i){return r*(t/=i)*t*t*t+n},easeOutQuart:function(e,t,n,r,i){return-r*((t=t/i-1)*t*t*t-1)+n},easeInOutQuart:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t+n:-r/2*((t-=2)*t*t*t-2)+n},easeInQuint:function(e,t,n,r,i){return r*(t/=i)*t*t*t*t+n},easeOutQuint:function(e,t,n,r,i){return r*((t=t/i-1)*t*t*t*t+1)+n},easeInOutQuint:function(e,t,n,r,i){return(t/=i/2)<1?r/2*t*t*t*t*t+n:r/2*((t-=2)*t*t*t*t+2)+n},easeInSine:function(e,t,n,r,i){return-r*Math.cos(t/i*(Math.PI/2))+r+n},easeOutSine:function(e,t,n,r,i){return r*Math.sin(t/i*(Math.PI/2))+n},easeInOutSine:function(e,t,n,r,i){return-r/2*(Math.cos(Math.PI*t/i)-1)+n},easeInExpo:function(e,t,n,r,i){return t===0?n:r*Math.pow(2,10*(t/i-1))+n},easeOutExpo:function(e,t,n,r,i){return t===i?n+r:r*(-Math.pow(2,-10*t/i)+1)+n},easeInOutExpo:function(e,t,n,r,i){return t===0?n:t===i?n+r:(t/=i/2)<1?r/2*Math.pow(2,10*(t-1))+n:r/2*(-Math.pow(2,-10*--t)+2)+n},easeInCirc:function(e,t,n,r,i){return-r*(Math.sqrt(1-(t/=i)*t)-1)+n},easeOutCirc:function(e,t,n,r,i){return r*Math.sqrt(1-(t=t/i-1)*t)+n},easeInOutCirc:function(e,t,n,r,i){return(t/=i/2)<1?-r/2*(Math.sqrt(1-t*t)-1)+n:r/2*(Math.sqrt(1-(t-=2)*t)+1)+n},easeInElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t===0)return n;if((t/=i)===1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;s=o/4}else s=o/(2*Math.PI)*Math.asin(r/u);return-(u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o))+n},easeOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t===0)return n;if((t/=i)===1)return n+r;o||(o=i*.3);if(u<Math.abs(r)){u=r;s=o/4}else s=o/(2*Math.PI)*Math.asin(r/u);return u*Math.pow(2,-10*t)*Math.sin((t*i-s)*2*Math.PI/o)+r+n},easeInOutElastic:function(e,t,n,r,i){var s=1.70158,o=0,u=r;if(t===0)return n;if((t/=i/2)===2)return n+r;o||(o=i*.3*1.5);if(u<Math.abs(r)){u=r;s=o/4}else s=o/(2*Math.PI)*Math.asin(r/u);return t<1?-0.5*u*Math.pow(2,10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)+n:u*Math.pow(2,-10*(t-=1))*Math.sin((t*i-s)*2*Math.PI/o)*.5+r+n},easeInBack:function(e,t,n,r,i,s){s===undefined&&(s=1.70158);return r*(t/=i)*t*((s+1)*t-s)+n},easeOutBack:function(e,t,n,r,i,s){s===undefined&&(s=1.70158);return r*((t=t/i-1)*t*((s+1)*t+s)+1)+n},easeInOutBack:function(e,t,n,r,i,s){s===undefined&&(s=1.70158);return(t/=i/2)<1?r/2*t*t*(((s*=1.525)+1)*t-s)+n:r/2*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)+n},easeInBounce:function(t,n,r,i,s){return i-e.easing.easeOutBounce(t,s-n,0,i,s)+r},easeOutBounce:function(e,t,n,r,i){return(t/=i)<1/2.75?r*7.5625*t*t+n:t<2/2.75?r*(7.5625*(t-=1.5/2.75)*t+.75)+n:t<2.5/2.75?r*(7.5625*(t-=2.25/2.75)*t+.9375)+n:r*(7.5625*(t-=2.625/2.75)*t+.984375)+n},easeInOutBounce:function(t,n,r,i,s){return n<s/2?e.easing.easeInBounce(t,n*2,0,i,s)*.5+r:e.easing.easeOutBounce(t,n*2-s,0,i,s)*.5+i*.5+r}})})(jQuery);